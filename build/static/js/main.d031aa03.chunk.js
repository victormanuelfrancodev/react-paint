(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(87)},39:function(e,t,a){},40:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},41:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(15),i=a.n(n),s=(a(39),a(8)),c=a(9),l=a(11),u=a(10),h=a(12),p=(a(40),a(41),a(24),a(17)),g=a(19),d=a(14),m=a(1),f=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(m.Rect,{name:this.props.name,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.fill,draggable:!0})}}]),t}(o.a.Component),b=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(m.Circle,{name:this.props.name,x:this.props.x,y:this.props.y,radius:this.props.radius,fill:this.props.fill,draggable:!0})}}]),t}(o.a.Component),j=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(m.Text,{name:this.props.name,x:this.props.x,y:this.props.y,fontSize:30,text:this.props.texto,fontFamily:"Calibri",fill:this.props.fill,id:"TextEdit",draggable:!0})}}]),t}(o.a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(m.Arrow,{points:this.props.points,pointerLength:20,pointerWidth:20,fill:"black",stroke:"black",tension:4,draggable:!0})}}]),t}(o.a.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(m.RegularPolygon,{x:190,y:180,sides:3,radius:80,fill:"red",stroke:"black",strokeWidth:4,name:this.props.name,draggable:!0})}}]),t}(o.a.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.checkNode()}},{key:"componentDidUpdate",value:function(){""!==this.props.selectedShapeName.trim()?this.checkNode():(this.transformer.detach(),this.transformer.getLayer().batchDraw()),console.log("texto"+this.props.selectedShapeName)}},{key:"checkNode",value:function(){var e=this.transformer.getStage(),t=this.props.selectedShapeName,a=e.findOne("."+t);a!==this.transformer.node()&&(a?this.transformer.attachTo(a):this.transformer.detach(),this.transformer.getLayer().batchDraw())}},{key:"render",value:function(){var e=this;return o.a.createElement(m.Transformer,{ref:function(t){e.transformer=t}})}}]),t}(r.Component),C=a(13),k=a.n(C),v=(a(86),function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo40.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:580,y:700,width:30,height:30,id:"flecha"})}),O=function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo33.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:620,y:700,width:30,height:30})},E=function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo39.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:660,y:700,width:30,height:30})},P=function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo41.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:700,y:700,width:30,height:30,id:"rectangulo"})},S=function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo41.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:740,y:700,width:30,height:30,id:"triangulo"})},T=function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo41.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:780,y:700,width:30,height:30,id:"circulo"})},M=function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo35.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:820,y:700,width:30,height:30})},N=function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo36.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:860,y:700,width:30,height:30})},D=function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo37.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:900,y:700,width:30,height:30,id:"texto"})},X=function(){var e=k()("http://www.rojojaguar.com/Mesadetrabajo38.svg"),t=Object(d.a)(e,1)[0];return o.a.createElement(m.Image,{image:t,x:940,y:700,width:30,height:30})},Y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).holamundo=function(){console.log("hola")},e.handleStageMouseDown=function(t){if(!1===e.props.isMakingLine){if(t.target===t.target.getStage())return void e.props.selectShapeName("");var a=t.target.name();if(console.log(t.target),""!==t.target.name().trim()){var r="Transformer"===t.target.getParent().className;if("TextEdit"===t.target.attrs.id){var o=t.target.getStage().container().getBoundingClientRect(),n={x:o.left+t.target.attrs.x,y:o.top+t.target.attrs.y};null!==e.props.objectText?console.log("existe"):console.log("no existe");var i=document.createElement("textarea");document.body.appendChild(i),i.value=t.target.attrs.text,i.style.position="absolute",i.style.top=n.y+"px",i.style.left=n.x+"px",i.style.width=t.target.width(),i.focus(),e.props.objectCreate(t),i.addEventListener("keydown",e.handleClick)}if(""!==e.props.selectedColor&&(t.target.fill(e.props.selectedColor),e.props.resetColor()),r)return;[].concat(Object(p.a)(e.props.rects),Object(p.a)(e.props.circulos),Object(p.a)(e.props.textos),Object(p.a)(e.props.flechas),Object(p.a)(e.props.triangulos)).find(function(e){return e.name===a})?e.props.selectShapeName(a):e.props.selectShapeName("")}else"rectangulo"===t.target.id().trim()?e.props.insertarRectangulo(t):"triangulo"===t.target.id().trim()?e.props.insertarTriangulo(t):"circulo"===t.target.id().trim()?e.props.insertarCirculo(t):"texto"===t.target.id().trim()?e.props.insertarText(t):"flecha"===t.target.id().trim()?e.props.insertarFlecha(!0):"red"===t.target.id().trim()?e.props.changeColor(t):"blue"===t.target.id().trim()?e.props.changeColor(t):"black"===t.target.id().trim()?e.props.changeColor(t):"green"===t.target.id().trim()&&e.props.changeColor(t)}else{var s=e.props.countClick+1;e.props.aumentarClick(s),1===s?e.props.firstPos(t.target.getStage().getPointerPosition().x,t.target.getStage().getPointerPosition().y):2===s&&(e.props.secondPos(t.target.getStage().getPointerPosition().x,t.target.getStage().getPointerPosition().y),e.props.aumentarClick(0),e.props.insertarFlecha(!1),e.props.insertArrowWithTwoPositions()),console.log(s)}},e.handleClick=e.handleClick.bind(Object(g.a)(Object(g.a)(e)),"Parameter"),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e,t){console.log("Parameter",e),console.log("Event",t.target.value+t.key),console.log("Real",t),13===t.keyCode||27===t.keyCode?(this.props.objectText.text(t.target.value),document.body.removeChild(t.target),this.props.objectText=null):8!==t.keyCode?this.props.objectText.text(t.target.value+t.key):this.props.objectText.text(t.target.value)}},{key:"render",value:function(){return o.a.createElement("div",{class:"paint"},o.a.createElement("div",{class:"stage"},o.a.createElement(m.Stage,{width:1600,height:782,onMouseDown:this.handleStageMouseDown},o.a.createElement(m.Layer,null,Array.from(this.props.rects).map(function(e,t){return o.a.createElement(f,Object.assign({key:t},e))}),Array.from(this.props.circulos).map(function(e,t){return o.a.createElement(b,Object.assign({key:t},e))}),Array.from(this.props.textos).map(function(e,t){return o.a.createElement(j,Object.assign({key:t},e))}),this.props.flechas.map(function(e,t){return o.a.createElement(y,Object.assign({key:t},e))}),Array.from(this.props.triangulos).map(function(e,t){return o.a.createElement(x,Object.assign({key:t},e))}),o.a.createElement(m.Circle,{x:80,y:700,radius:15,fill:"red",id:"red"}),o.a.createElement(m.Circle,{x:110,y:700,radius:15,fill:"blue",id:"blue"}),o.a.createElement(m.Circle,{x:140,y:700,radius:15,fill:"green",id:"green"}),o.a.createElement(m.Circle,{x:170,y:700,radius:15,fill:"black",id:"black"}),o.a.createElement(m.Circle,{x:200,y:700,radius:15,fill:"red",id:"red"}),o.a.createElement(m.Circle,{x:230,y:700,radius:15,fill:"blue",id:"blue"}),o.a.createElement(m.Circle,{x:260,y:700,radius:15,fill:"green",id:"green"}),o.a.createElement(m.Circle,{x:80,y:735,radius:15,fill:"red",id:"red"}),o.a.createElement(m.Circle,{x:110,y:735,radius:15,fill:"blue",id:"blue"}),o.a.createElement(m.Circle,{x:140,y:735,radius:15,fill:"green",id:"green"}),o.a.createElement(m.Circle,{x:170,y:735,radius:15,fill:"black",id:"black"}),o.a.createElement(m.Circle,{x:200,y:735,radius:15,fill:"red",id:"red"}),o.a.createElement(m.Circle,{x:230,y:735,radius:15,fill:"blue",id:"blue"}),o.a.createElement(m.Circle,{x:260,y:735,radius:15,fill:"green",id:"green"}),o.a.createElement(v,null),o.a.createElement(O,null),o.a.createElement(E,null),o.a.createElement(P,null),o.a.createElement(S,null),o.a.createElement(T,null),o.a.createElement(M,null),o.a.createElement(N,null),o.a.createElement(D,null),o.a.createElement(X,null),o.a.createElement(w,{selectedShapeName:this.props.selectedShapeName})))))}}]),t}(o.a.Component),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).selectShapeNameFuncion=function(e){a.setState({selectedShapeName:e})},a.objectCreate=function(e){console.log("objecto creado: "+e.target),a.setState({objectText:e.target})},a.insertarRectangulo=function(e){var t=a.state.rectangulos;t.push({width:100,height:200,x:200,y:300,fill:"black",name:"rectangulo".concat(Date.now())}),a.setState({rectangulos:t})},a.insertarTriangulo=function(e){var t=a.state.triangulos;t.push({x:190,y:180,sides:3,radius:80,fill:"green",stroke:"black",strokeWidth:4,draggable:!0,name:"triangulo".concat(Date.now())}),a.setState({triangulos:t})},a.insertarFlecha=function(e){a.setState({isMakingLine:e})},a.insertArrowWithTwoPositions=function(){var e=a.state.flechas;e.push({x:a.state.firstPosX,y:a.state.firstPosY,points:[a.state.firstPosX,a.state.firstPosY,a.state.secondPosX,a.state.secondPosY],pointerLength:20,pointerWidth:20,fill:"black",stroke:"black",strokeWidth:4,width:20,height:20,name:"flechas".concat(Date.now())}),a.setState({flechas:e})},a.insertarCirculo=function(e){var t=a.state.circulos;t.push({radius:50,x:e.evt.x,y:e.evt.y,fill:"red",name:"circulo".concat(Date.now())}),a.setState({circulos:t})},a.insertarText=function(e){var t=a.state.textos;t.push({x:e.evt.x,y:e.evt.y,fontSize:35,texto:"hola",fontFamily:"Calibri",fill:"green",name:"texto{Date.now()}"}),a.setState({textos:t})},a.resetColor=function(){a.setState({selectedColor:""})},a.changeColor=function(e){a.setState({selectedColor:e.target.id()})},a.aumentarClick=function(e){a.setState({countClick:e})},a.firstPos=function(e,t){a.setState({firstPosX:e,firstPosY:t})},a.secondPos=function(e,t){a.setState({secondPosX:e,secondPosY:t})},a.state={rectangulos:[],circulos:[],textos:[],flechas:[],triangulos:[],isMakingLine:!1,countClick:0,firstPosX:0,firstPosY:0,secondPosX:0,secondPosY:0,objectText:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({rectangulos:[{}],circulos:[{}],textos:[{name:"texto1",x:150,y:150,fontSize:30,texto:"ttt mundo",fontFamily:"Calibri",fill:"red"}],countClick:0,selectedShapeName:"",selectedColor:"",isMakingLine:!1,firstPosX:0,firstPosY:0,secondPosX:0,secondPosY:0,objectText:null})}},{key:"render",value:function(){var e=this.state,t=e.selectedColor,a=e.selectedShapeName,r=e.isMakingLine,n=e.rectangulos,i=e.circulos,s=e.textos,c=e.flechas,l=e.triangulos,u=e.countClick,h=e.firstPosX,p=e.firstPosY,g=e.secondPosX,d=e.secondPosY,m=e.objectText;return o.a.createElement(Y,{firstPosX:h,firstPosY:p,secondPosX:g,secondPosY:d,firstPos:this.firstPos,secondPos:this.secondPos,selectedColor:t,selectedShapeName:a,rects:n,circulos:i,textos:s,flechas:c,isMakingLine:r,triangulos:l,countClick:u,objectCreate:this.objectCreate,insertArrowWithTwoPositions:this.insertArrowWithTwoPositions,resetColor:this.resetColor,insertarText:this.insertarText,insertarFlecha:this.insertarFlecha,insertarTriangulo:this.insertarTriangulo,insertarCirculo:this.insertarCirculo,insertarRectangulo:this.insertarRectangulo,selectShapeName:this.selectShapeNameFuncion,changeColor:this.changeColor,aumentarClick:this.aumentarClick,objectText:m})}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.d031aa03.chunk.js.map