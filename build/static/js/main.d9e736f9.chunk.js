(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1046:function(e,t,a){"use strict";a.r(t);var r=a(7),i=a.n(r),n=a(45),o=a.n(n),s=(a(447),a(27)),c=a(28),l=a(30),u=a(29),p=a(31),g=(a(448),a(449),a(165),a(106)),h=a(442),d=a(51),f=a(56),m=a(14),b=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(m.Rect,{name:this.props.name,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.fill,draggable:!0})}}]),t}(i.a.Component),j=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(m.Circle,{name:this.props.name,x:this.props.x,y:this.props.y,radius:this.props.radius,fill:this.props.fill,draggable:!0})}}]),t}(i.a.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(m.Text,{name:this.props.name,x:this.props.x,y:this.props.y,fontSize:30,text:this.props.texto,fontFamily:"Calibri",fill:this.props.fill,id:"TextEdit",draggable:!0})}}]),t}(i.a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(m.Arrow,{points:this.props.points,pointerLength:20,pointerWidth:20,fill:"black",stroke:"black",tension:4,draggable:!0})}}]),t}(i.a.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(m.RegularPolygon,{x:190,y:180,sides:3,radius:80,fill:"red",stroke:"black",strokeWidth:4,name:this.props.name,draggable:!0})}}]),t}(i.a.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(m.Line,{points:this.props.points,stroke:"black",strokeWidth:15,lineCap:"round",lineJoin:"round",draggable:!0})}}]),t}(i.a.Component),P=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.checkNode()}},{key:"componentDidUpdate",value:function(){""!==this.props.selectedShapeName.trim()?this.checkNode():(this.transformer.detach(),this.transformer.getLayer().batchDraw()),console.log("texto"+this.props.selectedShapeName)}},{key:"checkNode",value:function(){var e=this.transformer.getStage(),t=this.props.selectedShapeName,a=e.findOne("."+t);a!==this.transformer.node()&&(a?this.transformer.attachTo(a):this.transformer.detach(),this.transformer.getLayer().batchDraw())}},{key:"render",value:function(){var e=this;return i.a.createElement(m.Transformer,{ref:function(t){e.transformer=t}})}}]),t}(r.Component),C=a(239);function v(e){var t=e.lines;return i.a.createElement("svg",{className:"drawing"},t.map(function(e,t){return i.a.createElement(O,{key:t,line:e})}))}function O(e){var t="M "+e.line.map(function(e){return"".concat(e.get("x")," ").concat(e.get("y"))}).join(" L ");return i.a.createElement("path",{className:"path",d:t})}i.a.Component;var S=a(55),E=a.n(S),D=(i.a.Component,a(494),a(495),function(){var e=E()("http://www.rojojaguar.com/Mesadetrabajo40.svg"),t=Object(f.a)(e,1)[0];return i.a.createElement(m.Image,{image:t,x:580,y:700,width:30,height:30,id:"flecha"})}),L=function(){var e=E()("http://www.rojojaguar.com/Mesadetrabajo33.svg"),t=Object(f.a)(e,1)[0];return i.a.createElement(m.Image,{image:t,x:620,y:700,width:30,height:30,id:"lapiz"})},M=function(){var e=E()("http://www.rojojaguar.com/Mesadetrabajo39.svg"),t=Object(f.a)(e,1)[0];return i.a.createElement(m.Image,{image:t,x:660,y:700,width:30,height:30,id:"linea"})},T=function(){var e=E()("http://www.rojojaguar.com/Mesadetrabajo41.svg"),t=Object(f.a)(e,1)[0];return i.a.createElement(m.Image,{image:t,x:700,y:700,width:30,height:30,id:"rectangulo"})},I=function(){var e=E()("http://www.rojojaguar.com/Mesadetrabajo41.svg"),t=Object(f.a)(e,1)[0];return i.a.createElement(m.Image,{image:t,x:740,y:700,width:30,height:30,id:"triangulo"})},N=function(){var e=E()("http://www.rojojaguar.com/Mesadetrabajo41.svg"),t=Object(f.a)(e,1)[0];return i.a.createElement(m.Image,{image:t,x:780,y:700,width:30,height:30,id:"circulo"})},q=function(){var e=E()("http://www.rojojaguar.com/Mesadetrabajo35.svg"),t=Object(f.a)(e,1)[0];return i.a.createElement(m.Image,{image:t,x:820,y:700,width:30,height:30,id:"goma"})},F=function(){var e=E()("http://www.rojojaguar.com/Mesadetrabajo36.svg"),t=Object(f.a)(e,1)[0];return i.a.createElement(m.Image,{image:t,x:860,y:700,width:30,height:30})},X=function(){var e=E()("http://www.rojojaguar.com/Mesadetrabajo37.svg"),t=Object(f.a)(e,1)[0];return i.a.createElement(m.Image,{image:t,x:900,y:700,width:30,height:30,id:"texto"})},Y=function(e){function t(){var e;Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).holamundo=function(){console.log("hola")},e.handleMouseMove=function(t){if(!1!==e.props.isDrawLine){if(console.log("moviendo mouse"),!e.props.isDrawing)return;var a=t.target.getStage().getPointerPosition(),r=e.props.lines.slice(),i=Object(h.a)({},r[r.length-1]);i.points=i.points.concat([a.x,a.y]),r[r.length-1]=i,e.props.setLines(r)}},e.handleMouseUp=function(t){!1!==e.props.isDrawLine&&e.props.toggleDrawing(!1)},e.handleStageMouseDown=function(t){if(!0===e.props.isMakingLineSinPiquito){console.log("listo making line sin piquito ");var a=e.props.countClick+1;e.props.aumentarClick(a),1===a?e.props.firstPos(t.target.getStage().getPointerPosition().x,t.target.getStage().getPointerPosition().y):2===a&&(e.props.secondPos(t.target.getStage().getPointerPosition().x,t.target.getStage().getPointerPosition().y),e.props.aumentarClick(0),e.props.setInsertarFlechaSinPiquito(!1),e.props.insertarFlechaSinPiquito()),console.log(a)}if(!1!==e.props.isDrawLine){e.props.toggleDrawing(!0);var r=t.target.getStage().getPointerPosition(),i=e.props.lines.concat({id:Date.now(),tool:e.props.tool,points:[r.x,r.y]});e.props.setLines(i)}if(!1===e.props.isMakingLine){if(t.target===t.target.getStage())return void e.props.selectShapeName("");var n=t.target.name();if(console.log(t.target),""!==t.target.name().trim()){var o="Transformer"===t.target.getParent().className;if("TextEdit"===t.target.attrs.id){var s=t.target.getStage().container().getBoundingClientRect(),c={x:s.left+t.target.attrs.x,y:s.top+t.target.attrs.y};null!==e.textarea&&(e.textarea=document.createElement("textarea"),document.body.appendChild(e.textarea)),e.textarea.value=t.target.attrs.text,e.textarea.style.position="absolute",e.textarea.style.top=c.y+"px",e.textarea.style.left=c.x+"px",e.textarea.style.width=t.target.width(),e.textarea.focus(),e.props.objectCreate(t),e.textarea.addEventListener("keydown",e.handleClick),null!==e.props.objectText?console.log("existe"):console.log("no existe")}if(""!==e.props.selectedColor&&(t.target.fill(e.props.selectedColor),e.props.resetColor()),o)return;[].concat(Object(g.a)(e.props.rects),Object(g.a)(e.props.circulos),Object(g.a)(e.props.textos),Object(g.a)(e.props.flechas),Object(g.a)(e.props.triangulos)).find(function(e){return e.name===n})?e.props.selectShapeName(n):e.props.selectShapeName("")}else"rectangulo"===t.target.id().trim()?(e.props.insertarRectangulo(t),e.props.getIsDrawingLine(!1)):"lapiz"===t.target.id().trim()?(e.props.getIsDrawingLine(!0),e.props.setTool("pen")):"linea"===t.target.id().trim()?(e.props.setInsertarFlechaSinPiquito(!0),e.props.getIsDrawingLine(!1)):"triangulo"===t.target.id().trim()?(e.props.insertarTriangulo(t),e.props.getIsDrawingLine(!1)):"circulo"===t.target.id().trim()?(e.props.insertarCirculo(t),e.props.getIsDrawingLine(!1)):"texto"===t.target.id().trim()?e.props.insertarText(t):"goma"===t.target.id().trim()?(e.props.getIsDrawingLine(!0),e.props.setTool("eraser")):"flecha"===t.target.id().trim()?(e.props.insertarFlecha(!0),e.props.getIsDrawingLine(!1)):"red"===t.target.id().trim()?e.props.changeColor(t):"blue"===t.target.id().trim()?e.props.changeColor(t):"black"===t.target.id().trim()?e.props.changeColor(t):"green"===t.target.id().trim()&&e.props.changeColor(t)}else{var l=e.props.countClick+1;e.props.aumentarClick(l),1===l?e.props.firstPos(t.target.getStage().getPointerPosition().x,t.target.getStage().getPointerPosition().y):2===l&&(e.props.secondPos(t.target.getStage().getPointerPosition().x,t.target.getStage().getPointerPosition().y),e.props.aumentarClick(0),e.props.insertarFlecha(!1),e.props.insertArrowWithTwoPositions()),console.log(l)}};return e.handleClick=e.handleClick.bind(Object(d.a)(Object(d.a)(e)),"Parameter"),e.doubleClick=e.doubleClick.bind(Object(d.a)(Object(d.a)(e)),"Parameter"),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e,t){13===t.keyCode||27===t.keyCode?(this.props.objectText.text(t.target.value),document.body.removeChild(t.target)):8!==t.keyCode?this.props.objectText.text(t.target.value+t.key):this.props.objectText.text(t.target.value)}},{key:"doubleClick",value:function(e,t){}},{key:"render",value:function(){return i.a.createElement("div",{class:"paint"},i.a.createElement("div",{class:"stage"},i.a.createElement(m.Stage,{width:1600,height:782,onMouseDown:this.handleStageMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp},i.a.createElement(m.Layer,null,Array.from(this.props.rects).map(function(e,t){return i.a.createElement(b,Object.assign({key:t},e))}),Array.from(this.props.circulos).map(function(e,t){return i.a.createElement(j,Object.assign({key:t},e))}),Array.from(this.props.flechasSinPiquito).map(function(e,t){return i.a.createElement(k,Object.assign({key:t},e))}),Array.from(this.props.textos).map(function(e,t){return i.a.createElement(w,Object.assign({key:t},e))}),this.props.flechas.map(function(e,t){return i.a.createElement(y,Object.assign({key:t},e))}),Array.from(this.props.triangulos).map(function(e,t){return i.a.createElement(x,Object.assign({key:t},e))}),this.props.lines.map(function(e){return i.a.createElement(m.Line,{key:e.id,strokeWidth:4,stroke:"black",points:e.points,globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"})}),i.a.createElement(m.Circle,{x:80,y:700,radius:15,fill:"red",id:"red"}),i.a.createElement(m.Circle,{x:110,y:700,radius:15,fill:"blue",id:"blue"}),i.a.createElement(m.Circle,{x:140,y:700,radius:15,fill:"green",id:"green"}),i.a.createElement(m.Circle,{x:170,y:700,radius:15,fill:"black",id:"black"}),i.a.createElement(m.Circle,{x:200,y:700,radius:15,fill:"red",id:"red"}),i.a.createElement(m.Circle,{x:230,y:700,radius:15,fill:"blue",id:"blue"}),i.a.createElement(m.Circle,{x:260,y:700,radius:15,fill:"green",id:"green"}),i.a.createElement(m.Circle,{x:80,y:735,radius:15,fill:"red",id:"red"}),i.a.createElement(m.Circle,{x:110,y:735,radius:15,fill:"blue",id:"blue"}),i.a.createElement(m.Circle,{x:140,y:735,radius:15,fill:"green",id:"green"}),i.a.createElement(m.Circle,{x:170,y:735,radius:15,fill:"black",id:"black"}),i.a.createElement(m.Circle,{x:200,y:735,radius:15,fill:"red",id:"red"}),i.a.createElement(m.Circle,{x:230,y:735,radius:15,fill:"blue",id:"blue"}),i.a.createElement(m.Circle,{x:260,y:735,radius:15,fill:"green",id:"green"}),i.a.createElement(D,null),i.a.createElement(L,null),i.a.createElement(M,null),i.a.createElement(T,null),i.a.createElement(I,null),i.a.createElement(N,null),i.a.createElement(q,null),i.a.createElement(F,null),i.a.createElement(X,null),i.a.createElement(P,{selectedShapeName:this.props.selectedShapeName})))))}}]),t}(i.a.Component),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).selectShapeNameFuncion=function(e){a.setState({selectedShapeName:e})},a.objectCreate=function(e){a.setState({objectText:e.target})},a.insertarFlechaSinPiquito=function(e){var t=a.state.flechasSinPiquito;t.push({points:[a.state.firstPosX,a.state.firstPosY,a.state.secondPosX,a.state.secondPosY],stroke:"red",strokeWidth:15,lineCap:"round",lineJoin:"round",name:"flechasSinPiquito".concat(Date.now())}),a.setState({flechasSinPiquito:t})},a.insertarRectangulo=function(e){var t=a.state.rectangulos;t.push({width:100,height:200,x:200,y:300,fill:"black",name:"rectangulo".concat(Date.now())}),a.setState({rectangulos:t})},a.insertarTriangulo=function(e){var t=a.state.triangulos;t.push({x:190,y:180,sides:3,radius:80,fill:"green",stroke:"black",strokeWidth:4,draggable:!0,name:"triangulo".concat(Date.now())}),a.setState({triangulos:t})},a.insertarFlecha=function(e){a.setState({isMakingLine:e})},a.setInsertarFlechaSinPiquito=function(e){a.setState({isMakingLineSinPiquito:e})},a.insertArrowWithTwoPositions=function(){var e=a.state.flechas;e.push({x:a.state.firstPosX,y:a.state.firstPosY,points:[a.state.firstPosX,a.state.firstPosY,a.state.secondPosX,a.state.secondPosY],pointerLength:20,pointerWidth:20,fill:"black",stroke:"black",strokeWidth:4,width:20,height:20,name:"flechas".concat(Date.now())}),a.setState({flechas:e})},a.insertarCirculo=function(e){var t=a.state.circulos;t.push({radius:50,x:e.evt.x,y:e.evt.y,fill:"red",name:"circulo".concat(Date.now())}),a.setState({circulos:t})},a.insertarText=function(e){var t=a.state.textos;t.push({x:e.evt.x,y:e.evt.y,fontSize:35,texto:"hola",fontFamily:"Calibri",fill:"green",name:"texto{Date.now()}"}),a.setState({textos:t})},a.resetColor=function(){a.setState({selectedColor:""})},a.changeColor=function(e){a.setState({selectedColor:e.target.id()})},a.aumentarClick=function(e){a.setState({countClick:e})},a.firstPos=function(e,t){a.setState({firstPosX:e,firstPosY:t})},a.secondPos=function(e,t){a.setState({secondPosX:e,secondPosY:t})},a.setTool=function(e){a.setState({tool:e})},a.toggleDrawing=function(e){a.setState({isDrawing:e})},a.setLines=function(e){a.setState({lines:e})},a.getIsDrawingLine=function(e){a.setState({isDrawLine:e})},a.state={rectangulos:[],circulos:[],textos:[],flechas:[],flechasSinPiquito:[],triangulos:[],isMakingLine:!1,isMakingLineSinPiquito:!1,countClick:0,firstPosX:0,firstPosY:0,secondPosX:0,secondPosY:0,objectText:null,tool:"pen",isDrawing:!1,lines:[],isDrawLine:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({rectangulos:[{}],circulos:[{}],textos:[{}],flechasSinPiquito:[{}],countClick:0,selectedShapeName:"",selectedColor:"",isMakingLine:!1,isMakingLineSinPiquito:!1,firstPosX:0,firstPosY:0,secondPosX:0,secondPosY:0,objectText:null,tool:"pen",isDrawing:!1,lines:[],isDrawLine:!1})}},{key:"render",value:function(){var e=this.state,t=e.selectedColor,a=e.selectedShapeName,r=e.isMakingLine,n=e.rectangulos,o=e.circulos,s=e.textos,c=e.flechas,l=e.triangulos,u=e.countClick,p=e.firstPosX,g=e.firstPosY,h=e.secondPosX,d=e.secondPosY,f=e.objectText,m=e.isPaint,b=e.lastPointerPosition,j=e.mode,w=e.tool,y=e.isDrawing,x=e.lines,k=e.isDrawLine,P=e.isMakingLineSinPiquito,C=e.flechasSinPiquito;return i.a.createElement(Y,{isMakingLineSinPiquito:P,isDrawLine:k,tool:w,flechasSinPiquito:C,isDrawing:y,lines:x,isPaint:m,lastPointerPosition:b,mode:j,firstPosX:p,firstPosY:g,secondPosX:h,secondPosY:d,selectedColor:t,selectedShapeName:a,rects:n,circulos:o,textos:s,flechas:c,isMakingLine:r,triangulos:l,countClick:u,objectText:f,firstPos:this.firstPos,secondPos:this.secondPos,objectCreate:this.objectCreate,insertArrowWithTwoPositions:this.insertArrowWithTwoPositions,resetColor:this.resetColor,insertarFlechaSinPiquito:this.insertarFlechaSinPiquito,insertarText:this.insertarText,insertarFlecha:this.insertarFlecha,setInsertarFlechaSinPiquito:this.setInsertarFlechaSinPiquito,insertarTriangulo:this.insertarTriangulo,insertarCirculo:this.insertarCirculo,insertarRectangulo:this.insertarRectangulo,selectShapeName:this.selectShapeNameFuncion,changeColor:this.changeColor,aumentarClick:this.aumentarClick,setTool:this.setTool,toggleDrawing:this.toggleDrawing,setLines:this.setLines,getIsDrawingLine:this.getIsDrawingLine})}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},443:function(e,t,a){e.exports=a(1046)},447:function(e,t,a){},448:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},449:function(e,t,a){},494:function(e,t,a){},544:function(e,t){},546:function(e,t){},577:function(e,t){},578:function(e,t){},626:function(e,t){},628:function(e,t){},651:function(e,t){},757:function(e,t){},758:function(e,t){},792:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=792},824:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=824}},[[443,1,2]]]);
//# sourceMappingURL=main.d9e736f9.chunk.js.map