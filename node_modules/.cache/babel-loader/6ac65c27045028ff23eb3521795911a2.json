{"ast":null,"code":"import _toConsumableArray from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/victor/Documents/GitHub/konvastest/src/componentes/Mundo.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Rectangulo from './Rectangulo';\nimport Circulo from './Circulo';\nimport { Stage, Layer, Rect, Circle } from 'react-konva';\nimport TransformerComponent from './TransformerComponent';\n\nvar Mundo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Mundo, _React$Component);\n\n  function Mundo(props) {\n    var _this;\n\n    _classCallCheck(this, Mundo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Mundo).call(this, props));\n\n    _this.handleDragEnd = function (e) {\n      _this.props.insertarRectangulo(e);\n    };\n\n    _this.handleStageMouseDown = function (e) {\n      // this.props.insertarRectangulo(e);\n      // clicked on stage - cler selection\n      if (e.target === e.target.getStage()) {\n        _this.props.selectShapeName('');\n\n        return;\n      } // clicked on transformer - do nothing\n\n\n      var clickedOnTransformer = e.target.getParent().className === \"Transformer\";\n\n      if (clickedOnTransformer) {\n        return;\n      } // find clicked rect by its name\n\n\n      var name = e.target.name();\n\n      var shapes = _toConsumableArray(_this.props.rects);\n\n      var shape = shapes.find(function (shape) {\n        return shape.name === name;\n      });\n\n      if (shape) {\n        _this.props.selectShapeName(name);\n      } else {\n        _this.props.selectShapeName('');\n      }\n    };\n\n    _this.data = Array.from(_this.props.rects);\n    return _this;\n  }\n\n  _createClass(Mundo, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Stage, {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        onMouseDown: this.handleStageMouseDown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Layer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, Object.keys(this.props.rects).map(function (key) {\n        return React.createElement(Rectangulo, {\n          key: key,\n          rectangulo: _this2.props.rects[key],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      }), Object.keys(this.props.circulos).map(function (key) {\n        return React.createElement(Circulo, {\n          key: key,\n          circulo: _this2.props.circulos[key],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        });\n      }), React.createElement(TransformerComponent, {\n        selectedShapeName: this.props.selectedShapeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Mundo;\n}(React.Component);\n\nexport default Mundo;","map":{"version":3,"sources":["/Users/victor/Documents/GitHub/konvastest/src/componentes/Mundo.js"],"names":["React","Component","render","Rectangulo","Circulo","Stage","Layer","Rect","Circle","TransformerComponent","Mundo","props","handleDragEnd","e","insertarRectangulo","handleStageMouseDown","target","getStage","selectShapeName","clickedOnTransformer","getParent","className","name","shapes","rects","shape","find","data","Array","from","window","innerWidth","innerHeight","Object","keys","map","key","circulos","selectedShapeName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Rectangulo from './Rectangulo';\nimport Circulo from './Circulo';\nimport { Stage, Layer, Rect, Circle } from 'react-konva';\nimport TransformerComponent from './TransformerComponent';\n\nclass Mundo extends React.Component {\n\n\n  constructor(props) {\n          super(props);\n          this.data = Array.from(this.props.rects);\n      }\n\n  handleDragEnd = e => {\n     this.props.insertarRectangulo(e);\n\n    };\n\n    handleStageMouseDown = e => {\n    // this.props.insertarRectangulo(e);\n  // clicked on stage - cler selection\n  if (e.target === e.target.getStage()) {\n      this.props.selectShapeName('');\n    return;\n  }\n  // clicked on transformer - do nothing\n  const clickedOnTransformer =\n    e.target.getParent().className === \"Transformer\";\n  if (clickedOnTransformer) {\n    return;\n  }\n\n  // find clicked rect by its name\n  const name = e.target.name();\n  const shapes = [...this.props.rects];\n  const shape = shapes.find(shape => shape.name === name);\n  if (shape) {\n    this.props.selectShapeName(name);\n  } else {\n    this.props.selectShapeName('');\n  }\n};\n\n  render() {\n      return (\n        <Stage width={window.innerWidth} height={window.innerHeight} onMouseDown = {this.handleStageMouseDown} >\n          <Layer>\n\n\n            { Object.keys(this.props.rects).map(key => (\n              <Rectangulo\n                key={key}\n                rectangulo = {this.props.rects[key]}\n              />\n            ))}\n            {\n             Object.keys(this.props.circulos).map(key => (\n            <Circulo\n              key={key}\n              circulo = {this.props.circulos[key]}\n            />\n          ))}\n            <TransformerComponent\n              selectedShapeName={this.props.selectedShapeName}\n            />\n          </Layer>\n        </Stage>\n      );\n    };\n}\n\nexport default Mundo;\n"]},"metadata":{},"sourceType":"module"}