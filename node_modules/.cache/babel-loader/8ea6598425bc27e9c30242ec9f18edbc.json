{"ast":null,"code":"import _toConsumableArray from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _slicedToArray from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/victor/Documents/GitHub/react-paint/src/componentes/Mundo.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Rectangulo from './Rectangulo';\nimport Circulo from './Circulo';\nimport Texto from './Texto';\nimport Flecha from './Flecha';\nimport Triangulo from './Triangulo';\nimport FlechaSinPiquito from './FlechaSinPiquito';\nimport { Stage, Layer, Rect, Circle, Text, Image, Line } from 'react-konva';\nimport TransformerComponent from './TransformerComponent';\nimport DrawArea from './DrawArea';\nimport useImage from 'use-image';\nimport Portal from './Portal';\nimport './css/style.css';\nimport { SketchField, Tools } from 'react-sketch';\n\nvar IconoFlecha = function IconoFlecha() {\n  var _useImage = useImage('http://www.rojojaguar.com/Mesadetrabajo40.svg'),\n      _useImage2 = _slicedToArray(_useImage, 1),\n      image = _useImage2[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 580,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"flecha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  });\n};\n\nvar IconoLapiz = function IconoLapiz() {\n  var _useImage3 = useImage('http://www.rojojaguar.com/Mesadetrabajo33.svg'),\n      _useImage4 = _slicedToArray(_useImage3, 1),\n      image = _useImage4[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 620,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"lapiz\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  });\n};\n\nvar IconoLinea = function IconoLinea() {\n  var _useImage5 = useImage('http://www.rojojaguar.com/Mesadetrabajo39.svg'),\n      _useImage6 = _slicedToArray(_useImage5, 1),\n      image = _useImage6[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 660,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"linea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  });\n};\n\nvar IconoCuadrado = function IconoCuadrado() {\n  var _useImage7 = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg'),\n      _useImage8 = _slicedToArray(_useImage7, 1),\n      image = _useImage8[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 700,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"rectangulo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  });\n};\n\nvar IconoTriangulo = function IconoTriangulo() {\n  var _useImage9 = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg'),\n      _useImage10 = _slicedToArray(_useImage9, 1),\n      image = _useImage10[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 740,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"triangulo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  });\n};\n\nvar IconoCirculo = function IconoCirculo() {\n  var _useImage11 = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg'),\n      _useImage12 = _slicedToArray(_useImage11, 1),\n      image = _useImage12[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 780,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"circulo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  });\n};\n\nvar IconoGoma = function IconoGoma() {\n  var _useImage13 = useImage('http://www.rojojaguar.com/Mesadetrabajo35.svg'),\n      _useImage14 = _slicedToArray(_useImage13, 1),\n      image = _useImage14[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 820,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"goma\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  });\n};\n\nvar IconoPintar = function IconoPintar() {\n  var _useImage15 = useImage('http://www.rojojaguar.com/Mesadetrabajo36.svg'),\n      _useImage16 = _slicedToArray(_useImage15, 1),\n      image = _useImage16[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 860,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"pintura\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  });\n};\n\nvar IconoLetra = function IconoLetra() {\n  var _useImage17 = useImage('http://www.rojojaguar.com/Mesadetrabajo37.svg'),\n      _useImage18 = _slicedToArray(_useImage17, 1),\n      image = _useImage18[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 900,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"texto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  });\n};\n\nvar IconoVolver = function IconoVolver() {\n  var _useImage19 = useImage('http://www.rojojaguar.com/Mesadetrabajo38.svg'),\n      _useImage20 = _slicedToArray(_useImage19, 1),\n      image = _useImage20[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 940,\n    y: 700,\n    width: 30,\n    height: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  });\n};\n\nvar IconoAvanzar = function IconoAvanzar() {\n  var _useImage21 = useImage('http://www.rojojaguar.com/Mesadetrabajo38.svg'),\n      _useImage22 = _slicedToArray(_useImage21, 1),\n      image = _useImage22[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 980,\n    y: 700,\n    width: 30,\n    height: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  });\n};\n\nvar Mundo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Mundo, _React$Component);\n\n  function Mundo() {\n    var _this;\n\n    _classCallCheck(this, Mundo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Mundo).call(this));\n\n    _this.handleMouseMove = function (e) {\n      if (_this.props.isDrawLine !== false) {\n        console.log(\"moviendo mouse\");\n\n        if (!_this.props.isDrawing) {\n          return;\n        }\n\n        var pointer = e.target.getStage().getPointerPosition();\n\n        var newLines = _this.props.lines.slice();\n\n        var lastLine = _objectSpread({}, newLines[newLines.length - 1]);\n\n        lastLine.points = lastLine.points.concat([pointer.x, pointer.y]);\n        newLines[newLines.length - 1] = lastLine;\n\n        _this.props.setLines(newLines);\n      }\n    };\n\n    _this.handleMouseUp = function (e) {\n      if (_this.props.isDrawLine !== false) {\n        _this.props.toggleDrawing(false);\n      }\n    };\n\n    _this.handleStageMouseDown = function (e) {\n      //Dibuja linea y borrador\n      // this.props.insertarRectangulo(e);\n      // clicked on stage - cler selection\n      if (_this.props.isMakingLineSinPiquito === true) {\n        console.log(\"listo making line sin piquito \");\n        var counter = _this.props.countClick + 1;\n\n        _this.props.aumentarClick(counter);\n\n        if (counter === 1) {\n          _this.props.firstPos(e.target.getStage().getPointerPosition().x, e.target.getStage().getPointerPosition().y);\n        } else if (counter === 2) {\n          _this.props.secondPos(e.target.getStage().getPointerPosition().x, e.target.getStage().getPointerPosition().y);\n\n          _this.props.aumentarClick(0);\n\n          _this.props.setInsertarFlechaSinPiquito(false);\n\n          _this.props.insertarFlechaSinPiquito();\n        }\n\n        console.log(counter);\n      }\n\n      if (_this.props.isDrawLine !== false) {\n        _this.props.toggleDrawing(true);\n\n        var pointer = e.target.getStage().getPointerPosition();\n\n        var newLines = _this.props.lines.concat({\n          id: Date.now(),\n          tool: _this.props.tool,\n          points: [pointer.x, pointer.y]\n        });\n\n        _this.props.setLines(newLines);\n      }\n\n      if (_this.props.isMakingLine === false) {\n        if (e.target === e.target.getStage()) {\n          _this.props.selectShapeName('');\n\n          return;\n        } // clicked on transformer - do nothing\n        // find clicked rect by its name\n\n\n        var name = e.target.name();\n        console.log(e.target);\n\n        if (e.target.name().trim() !== \"\") {\n          var clickedOnTransformer = e.target.getParent().className === \"Transformer\";\n\n          if (e.target.attrs.id === \"TextEdit\") {\n            //Get size of the stage\n            var stageBox = e.target.getStage().container().getBoundingClientRect();\n            var areaPosition = {\n              x: stageBox.left + e.target.attrs.x,\n              y: stageBox.top + e.target.attrs.y\n            };\n\n            if (_this.textarea !== null) {\n              _this.textarea = document.createElement('textarea');\n              document.body.appendChild(_this.textarea);\n            }\n\n            _this.textarea.value = e.target.attrs.text;\n            _this.textarea.style.position = 'absolute';\n            _this.textarea.style.top = areaPosition.y + 'px';\n            _this.textarea.style.left = areaPosition.x + 'px';\n            _this.textarea.style.width = e.target.width();\n\n            _this.textarea.focus();\n\n            _this.props.objectCreate(e);\n\n            _this.textarea.addEventListener('keydown', _this.handleClick);\n\n            if (_this.props.objectText !== null) {\n              console.log(\"existe\");\n            } else {\n              console.log(\"no existe\");\n            }\n          } //  console.log(\"este es el target \"+e.target.fill(\"blue\"));\n\n\n          if (_this.props.selectedColor !== \"\") {\n            e.target.fill(_this.props.selectedColor);\n\n            _this.props.resetColor();\n          }\n\n          if (clickedOnTransformer) {\n            return;\n          }\n\n          var shapes = [].concat(_toConsumableArray(_this.props.rects), _toConsumableArray(_this.props.circulos), _toConsumableArray(_this.props.textos), _toConsumableArray(_this.props.flechas), _toConsumableArray(_this.props.triangulos)); //const shapes = [...this.props.rects];\n\n          var shape = shapes.find(function (shape) {\n            return shape.name === name;\n          });\n\n          if (shape) {\n            _this.props.selectShapeName(name);\n          } else {\n            _this.props.selectShapeName('');\n          }\n        } else {\n          if (e.target.id().trim() === \"rectangulo\") {\n            _this.props.setTextObject(\"Cuadrado,puedes seleccionarlo para manipularlo\");\n\n            _this.props.insertarRectangulo(e);\n\n            _this.props.getIsDrawingLine(false);\n          } else if (e.target.id().trim() === \"lapiz\") {\n            _this.props.setTextObject(\"LÃ¡piz,dibuja sobre el papel\");\n\n            _this.props.getIsDrawingLine(true);\n\n            _this.props.setTool(\"pen\");\n          } else if (e.target.id().trim() === \"linea\") {\n            _this.props.setTextObject(\"Linea, selecciona dos puntos dentro del papel\");\n\n            _this.props.setInsertarFlechaSinPiquito(true);\n\n            _this.props.getIsDrawingLine(false);\n          } else if (e.target.id().trim() === \"triangulo\") {\n            _this.props.setTextObject(\"Triangulo, puedes seleccionarlo para manipularlo\");\n\n            _this.props.insertarTriangulo(e);\n\n            _this.props.getIsDrawingLine(false);\n          } else if (e.target.id().trim() === \"circulo\") {\n            _this.props.setTextObject(\"Circulo, puedes seleccionarlo para manipularlo\");\n\n            _this.props.insertarCirculo(e);\n\n            _this.props.getIsDrawingLine(false);\n          } else if (e.target.id().trim() === \"texto\") {\n            _this.props.setTextObject(\"Texto, puedes modificar el texto , para salir presiona Enter o Esc\");\n\n            _this.props.insertarText(e);\n          } else if (e.target.id().trim() === \"goma\") {\n            _this.props.setTextObject(\"Goma, borra cualquier cosa\");\n\n            _this.props.getIsDrawingLine(true);\n\n            _this.props.setTool(\"eraser\");\n          } else if (e.target.id().trim() === \"flecha\") {\n            _this.props.setTextObject(\"Linea, selecciona dos puntos dentro del papel\");\n\n            _this.props.insertarFlecha(true);\n\n            _this.props.getIsDrawingLine(false);\n          } else if (e.target.id().trim() === \"810A16\") {\n            _this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n\n            if (_this.props.isColorBackground === true) {\n              _this.props.changeColor(\"#810A16\");\n\n              _this.props.setColorBackground(false);\n            }\n          } else if (e.target.id().trim() === \"#9C505B\") {\n            _this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n\n            if (_this.props.isColorBackground === true) {\n              _this.props.changeColor(\"#9C505B\");\n\n              _this.props.setColorBackground(false);\n            }\n          } else if (e.target.id().trim() === \"#18593C\") {\n            _this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n\n            if (_this.props.isColorBackground === true) {\n              _this.props.changeColor(\"#18593C\");\n\n              _this.props.setColorBackground(false);\n            }\n          } else if (e.target.id().trim() === \"#1B793B\") {\n            _this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n\n            if (_this.props.isColorBackground === true) {\n              _this.props.changeColor(\"#1B793B\");\n\n              _this.props.setColorBackground(false);\n            }\n          } //#495934\n          else if (e.target.id().trim() === \"#495934\") {\n              _this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n\n              if (_this.props.isColorBackground === true) {\n                _this.props.changeColor(\"#495934\");\n\n                _this.props.setColorBackground(false);\n              }\n            } else if (e.target.id().trim() === \"#406276\") {\n              _this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n\n              if (_this.props.isColorBackground === true) {\n                _this.props.changeColor(\"#406276\");\n\n                _this.props.setColorBackground(false);\n              }\n            } //#08305D\n            else if (e.target.id().trim() === \"#08305D\") {\n                _this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n\n                if (_this.props.isColorBackground === true) {\n                  _this.props.changeColor(\"#08305D\");\n\n                  _this.props.setColorBackground(false);\n                }\n              } else if (e.target.id().trim() === \"#5C0A3D\") {\n                _this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n\n                if (_this.props.isColorBackground === true) {\n                  _this.props.changeColor(\"#5C0A3D\");\n\n                  _this.props.setColorBackground(false);\n                }\n              } else if (e.target.id().trim() === \"pintura\") {\n                _this.props.setTextObject(\"Selecciona un color.\");\n\n                _this.props.setColorBackground(true);\n              }\n        }\n      } else {\n        var _counter = _this.props.countClick + 1;\n\n        _this.props.aumentarClick(_counter);\n\n        if (_counter === 1) {\n          _this.props.firstPos(e.target.getStage().getPointerPosition().x, e.target.getStage().getPointerPosition().y);\n        } else if (_counter === 2) {\n          _this.props.secondPos(e.target.getStage().getPointerPosition().x, e.target.getStage().getPointerPosition().y);\n\n          _this.props.aumentarClick(0);\n\n          _this.props.insertarFlecha(false);\n\n          _this.props.insertArrowWithTwoPositions();\n        }\n\n        console.log(_counter);\n      }\n    };\n\n    var textarea = null;\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)), 'Parameter');\n    _this.doubleClick = _this.doubleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)), 'Parameter');\n    return _this;\n  }\n\n  _createClass(Mundo, [{\n    key: \"handleClick\",\n    value: function handleClick(param, e) {\n      if (e.keyCode === 13 || e.keyCode === 27) {\n        this.props.objectText.text(e.target.value);\n        document.body.removeChild(e.target); //this.props.objectText = null;\n      } else {\n        if (e.keyCode !== 8) {\n          this.props.objectText.text(e.target.value + e.key);\n        } else {\n          this.props.objectText.text(e.target.value);\n        }\n      } //  e.target.text (e.target.value + e.key);\n\n    }\n  }, {\n    key: \"doubleClick\",\n    value: function doubleClick(param, e) {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        class: \"paint\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"stage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, React.createElement(Stage, {\n        width: 1600,\n        height: 782,\n        onMouseDown: this.handleStageMouseDown,\n        onMouseMove: this.handleMouseMove,\n        onMouseUp: this.handleMouseUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(Layer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, React.createElement(Text, {\n        text: this.props.textoDialogo,\n        fontSize: 20,\n        fontFamily: 'Calibri',\n        x: 20,\n        y: 20,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }), Array.from(this.props.rects).map(function (rect, i) {\n        return React.createElement(Rectangulo, Object.assign({\n          key: i\n        }, rect, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338\n          },\n          __self: this\n        }));\n      }), Array.from(this.props.circulos).map(function (cir, i) {\n        return React.createElement(Circulo, Object.assign({\n          key: i\n        }, cir, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342\n          },\n          __self: this\n        }));\n      }), Array.from(this.props.flechasSinPiquito).map(function (fle, i) {\n        return React.createElement(FlechaSinPiquito, Object.assign({\n          key: i\n        }, fle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }));\n      }), Array.from(this.props.textos).map(function (txt, i) {\n        return React.createElement(Texto, Object.assign({\n          key: i\n        }, txt, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        }));\n      }), this.props.flechas.map(function (arr, i) {\n        return React.createElement(Flecha, Object.assign({\n          key: i\n        }, arr, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354\n          },\n          __self: this\n        }));\n      }), Array.from(this.props.triangulos).map(function (tri, i) {\n        return React.createElement(Triangulo, Object.assign({\n          key: i\n        }, tri, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358\n          },\n          __self: this\n        }));\n      }), this.props.lines.map(function (line) {\n        return React.createElement(Line, {\n          key: line.id,\n          strokeWidth: 4,\n          stroke: \"black\",\n          points: line.points,\n          globalCompositeOperation: line.tool === \"eraser\" ? \"destination-out\" : \"source-over\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361\n          },\n          __self: this\n        });\n      }), React.createElement(Circle, {\n        x: 80,\n        y: 700,\n        radius: 15,\n        fill: \"#810A16\",\n        id: \"810A16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 110,\n        y: 700,\n        radius: 15,\n        fill: \"#9C505B\",\n        id: \"#9C505B\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 140,\n        y: 700,\n        radius: 15,\n        fill: \"#18593C\",\n        id: \"#18593C\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 170,\n        y: 700,\n        radius: 15,\n        fill: \"#1B793B\",\n        id: \"#1B793B\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 200,\n        y: 700,\n        radius: 15,\n        fill: \"#495934\",\n        id: \"#495934\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 230,\n        y: 700,\n        radius: 15,\n        fill: \"#406276\",\n        id: \"#406276\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 260,\n        y: 700,\n        radius: 15,\n        fill: \"#08305D\",\n        id: \"#08305D\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 80,\n        y: 735,\n        radius: 15,\n        fill: \"#5C0A3D\",\n        id: \"#5C0A3D\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 110,\n        y: 735,\n        radius: 15,\n        fill: \"blue\",\n        id: \"blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 140,\n        y: 735,\n        radius: 15,\n        fill: \"green\",\n        id: \"green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 170,\n        y: 735,\n        radius: 15,\n        fill: \"black\",\n        id: \"black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 200,\n        y: 735,\n        radius: 15,\n        fill: \"red\",\n        id: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 230,\n        y: 735,\n        radius: 15,\n        fill: \"blue\",\n        id: \"blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }), React.createElement(Circle, {\n        x: 260,\n        y: 735,\n        radius: 15,\n        fill: \"green\",\n        id: \"green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }), React.createElement(IconoFlecha, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }), React.createElement(IconoLapiz, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }), React.createElement(IconoLinea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }), React.createElement(IconoCuadrado, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }), React.createElement(IconoTriangulo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }), React.createElement(IconoCirculo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }), React.createElement(IconoGoma, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }), React.createElement(IconoPintar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }), React.createElement(IconoLetra, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      }), React.createElement(TransformerComponent, {\n        selectedShapeName: this.props.selectedShapeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Mundo;\n}(React.Component);\n\nexport default Mundo;","map":{"version":3,"sources":["/Users/victor/Documents/GitHub/react-paint/src/componentes/Mundo.js"],"names":["React","Component","render","Rectangulo","Circulo","Texto","Flecha","Triangulo","FlechaSinPiquito","Stage","Layer","Rect","Circle","Text","Image","Line","TransformerComponent","DrawArea","useImage","Portal","SketchField","Tools","IconoFlecha","image","IconoLapiz","IconoLinea","IconoCuadrado","IconoTriangulo","IconoCirculo","IconoGoma","IconoPintar","IconoLetra","IconoVolver","IconoAvanzar","Mundo","handleMouseMove","e","props","isDrawLine","console","log","isDrawing","pointer","target","getStage","getPointerPosition","newLines","lines","slice","lastLine","length","points","concat","x","y","setLines","handleMouseUp","toggleDrawing","handleStageMouseDown","isMakingLineSinPiquito","counter","countClick","aumentarClick","firstPos","secondPos","setInsertarFlechaSinPiquito","insertarFlechaSinPiquito","id","Date","now","tool","isMakingLine","selectShapeName","name","trim","clickedOnTransformer","getParent","className","attrs","stageBox","container","getBoundingClientRect","areaPosition","left","top","textarea","document","createElement","body","appendChild","value","text","style","position","width","focus","objectCreate","addEventListener","handleClick","objectText","selectedColor","fill","resetColor","shapes","rects","circulos","textos","flechas","triangulos","shape","find","setTextObject","insertarRectangulo","getIsDrawingLine","setTool","insertarTriangulo","insertarCirculo","insertarText","insertarFlecha","isColorBackground","changeColor","setColorBackground","insertArrowWithTwoPositions","bind","doubleClick","param","keyCode","removeChild","key","textoDialogo","Array","from","map","rect","i","cir","flechasSinPiquito","fle","txt","arr","tri","line","selectedShapeName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Rectangulo from './Rectangulo';\nimport Circulo from './Circulo';\nimport Texto from './Texto';\nimport Flecha from './Flecha';\nimport Triangulo from './Triangulo';\nimport FlechaSinPiquito from './FlechaSinPiquito';\nimport { Stage, Layer, Rect, Circle,Text,Image,Line } from 'react-konva';\nimport TransformerComponent from './TransformerComponent';\nimport DrawArea from './DrawArea';\nimport useImage from 'use-image';\nimport Portal from './Portal';\nimport './css/style.css'\nimport {SketchField, Tools} from 'react-sketch';\n\nconst IconoFlecha = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo40.svg');\n  return <Image image={image} x={580} y={700} width={30} height={30} id={\"flecha\"}/>;\n};\n\nconst IconoLapiz = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo33.svg');\n  return <Image image={image} x={620} y={700} width={30} height={30} id={\"lapiz\"}/>;\n};\n\nconst IconoLinea = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo39.svg');\n  return <Image image={image} x={660} y={700} width={30} height={30} id={\"linea\"}/>;\n};\n\nconst IconoCuadrado = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg');\n  return <Image image={image} x={700} y={700} width={30} height={30} id={\"rectangulo\"}/>;\n};\n\nconst IconoTriangulo = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg');\n  return <Image image={image} x={740} y={700} width={30} height={30} id={\"triangulo\"}/>;\n};\n\nconst IconoCirculo = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg');\n  return <Image image={image} x={780} y={700} width={30} height={30} id={\"circulo\"}/>;\n};\n\nconst IconoGoma = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo35.svg');\n  return <Image image={image} x={820} y={700} width={30} height={30} id={\"goma\"}/>;\n};\n\nconst IconoPintar = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo36.svg');\n  return <Image image={image} x={860} y={700} width={30} height={30} id={\"pintura\"}/>;\n};\n\nconst IconoLetra = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo37.svg');\n  return <Image image={image} x={900} y={700} width={30} height={30} id = {\"texto\"}/>;\n};\n\nconst IconoVolver = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo38.svg');\n  return <Image image={image} x={940} y={700} width={30} height={30}/>;\n};\n\nconst IconoAvanzar= () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo38.svg');\n  return <Image image={image} x={980} y={700} width={30} height={30}/>;\n};\n\n\n\nclass Mundo extends React.Component {\n\n  constructor() {\n    super();\n    const textarea = null;\n    this.handleClick = this.handleClick.bind(this, 'Parameter');\n    this.doubleClick = this.doubleClick.bind(this, 'Parameter');\n  }\n\n\n  handleClick(param, e) {\n\n    if (e.keyCode === 13 || e.keyCode === 27) {\n      this.props.objectText.text(e.target.value);\n      document.body.removeChild(e.target);\n      //this.props.objectText = null;\n    }else{\n      if (e.keyCode !== 8){\n        this.props.objectText.text(e.target.value + e.key);\n      }else{\n        this.props.objectText.text(e.target.value);\n      }\n    }\n  //  e.target.text (e.target.value + e.key);\n  }\n\ndoubleClick (param,e ){\n\n}\n\nhandleMouseMove = e => {\n  if (this.props.isDrawLine !== false){\n    console.log(\"moviendo mouse\");\n    if (!this.props.isDrawing) {\n      return;\n    }\n    const pointer = e.target.getStage().getPointerPosition();\n    const newLines = this.props.lines.slice();\n    const lastLine = {\n      ...newLines[newLines.length - 1]\n    };\n    lastLine.points = lastLine.points.concat([pointer.x, pointer.y]);\n    newLines[newLines.length - 1] = lastLine;\n    this.props.setLines(newLines);\n  }\n}\n\nhandleMouseUp = e =>{\n  if (this.props.isDrawLine !== false){\n    this.props.toggleDrawing(false);\n  }\n}\n\nhandleStageMouseDown = e => {\n//Dibuja linea y borrador\n\n  // this.props.insertarRectangulo(e);\n// clicked on stage - cler selection\nif (this.props.isMakingLineSinPiquito === true){\n  console.log(\"listo making line sin piquito \");\n  const counter =  this.props.countClick + 1;\n  this.props.aumentarClick(counter)\n  if (counter === 1){\n    this.props.firstPos(e.target.getStage().getPointerPosition().x,e.target.getStage().getPointerPosition().y);\n  }else if (counter === 2){\n    this.props.secondPos(e.target.getStage().getPointerPosition().x,e.target.getStage().getPointerPosition().y);\n    this.props.aumentarClick(0)\n    this.props.setInsertarFlechaSinPiquito(false);\n    this.props.insertarFlechaSinPiquito();\n  }\n  console.log(counter);\n}\nif (this.props.isDrawLine !== false){\n  this.props.toggleDrawing(true);\n  const pointer = e.target.getStage().getPointerPosition();\n  const newLines = this.props.lines.concat({\n    id: Date.now(),\n    tool: this.props.tool,\n    points: [pointer.x, pointer.y]\n  });\n  this.props.setLines(newLines);\n}\nif (this.props.isMakingLine === false){\n    if (e.target === e.target.getStage()) {\n        this.props.selectShapeName('');\n      return;\n    }\n    // clicked on transformer - do nothing\n    // find clicked rect by its name\n    const name = e.target.name();\n    console.log (e.target);\n    if (e.target.name().trim() !== \"\") {\n          const clickedOnTransformer =\n            e.target.getParent().className === \"Transformer\";\n          if  (e.target.attrs.id ===\"TextEdit\"){\n            //Get size of the stage\n            var stageBox = e.target.getStage().container().getBoundingClientRect();\n            var areaPosition = {\n              x : stageBox.left + e.target.attrs.x,\n              y:  stageBox.top + e.target.attrs.y\n            }\n            if (this.textarea !== null){\n              this.textarea = document.createElement('textarea');\n              document.body.appendChild(this.textarea);\n            }\n            this.textarea.value = e.target.attrs.text;\n            this.textarea.style.position = 'absolute';\n            this.textarea.style.top = areaPosition.y + 'px';\n            this.textarea.style.left = areaPosition.x + 'px';\n            this.textarea.style.width = e.target.width();\n            this.textarea.focus();\n            this.props.objectCreate(e);\n            this.textarea.addEventListener('keydown',this.handleClick);\n\n            if (this.props.objectText !== null){\n              console.log(\"existe\")\n            }else{\n              console.log(\"no existe\")\n            }\n          }\n          //  console.log(\"este es el target \"+e.target.fill(\"blue\"));\n          if (this.props.selectedColor !== \"\"){\n            e.target.fill(this.props.selectedColor);\n            this.props.resetColor()\n          }\n          if (clickedOnTransformer) {\n            return;\n          }\n\n          const shapes = [...this.props.rects,...this.props.circulos, ...this.props.textos, ...this.props.flechas, ...this.props.triangulos];\n          //const shapes = [...this.props.rects];\n          const shape = shapes.find(shape => shape.name === name);\n          if (shape) {\n            this.props.selectShapeName(name);\n          } else {\n            this.props.selectShapeName('');\n          }\n    }\n    else{\n\n      if (e.target.id().trim() === \"rectangulo\"){\n        this.props.setTextObject(\"Cuadrado,puedes seleccionarlo para manipularlo\");\n         this.props.insertarRectangulo(e);\n         this.props.getIsDrawingLine(false);\n      }else if (e.target.id().trim()===\"lapiz\"){\n         this.props.setTextObject(\"LÃ¡piz,dibuja sobre el papel\");\n         this.props.getIsDrawingLine(true);\n         this.props.setTool(\"pen\");\n      }else if (e.target.id().trim() === \"linea\"){\n        this.props.setTextObject(\"Linea, selecciona dos puntos dentro del papel\");\n        this.props.setInsertarFlechaSinPiquito(true)\n        this.props.getIsDrawingLine(false);\n      }\n      else if (e.target.id().trim() === \"triangulo\"){\n         this.props.setTextObject(\"Triangulo, puedes seleccionarlo para manipularlo\");\n         this.props.insertarTriangulo(e);\n         this.props.getIsDrawingLine(false);\n      }else if (e.target.id().trim() === \"circulo\"){\n        this.props.setTextObject(\"Circulo, puedes seleccionarlo para manipularlo\");\n        this.props.insertarCirculo(e);\n        this.props.getIsDrawingLine(false);\n      }else if(e.target.id().trim() === \"texto\"){\n        this.props.setTextObject(\"Texto, puedes modificar el texto , para salir presiona Enter o Esc\");\n        this.props.insertarText(e);\n      }\n      else if(e.target.id().trim() === \"goma\"){\n        this.props.setTextObject(\"Goma, borra cualquier cosa\");\n          this.props.getIsDrawingLine(true);\n          this.props.setTool(\"eraser\");\n      }\n      else if (e.target.id().trim() === \"flecha\"){\n        this.props.setTextObject(\"Linea, selecciona dos puntos dentro del papel\");\n        this.props.insertarFlecha(true);\n        this.props.getIsDrawingLine(false);\n      }\n      else if (e.target.id().trim() === \"810A16\"){\n        this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n        if(this.props.isColorBackground === true){\n            this.props.changeColor(\"#810A16\");\n            this.props.setColorBackground(false);\n        }\n      }\n      else if (e.target.id().trim() === \"#9C505B\"){\n        this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n        if(this.props.isColorBackground === true){\n            this.props.changeColor(\"#9C505B\");\n            this.props.setColorBackground(false);\n        }\n      }\n      else if (e.target.id().trim() === \"#18593C\"){\n        this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n        if(this.props.isColorBackground === true){\n            this.props.changeColor(\"#18593C\");\n            this.props.setColorBackground(false);\n        }\n      }\n      else if (e.target.id().trim() === \"#1B793B\"){\n        this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n        if(this.props.isColorBackground === true){\n            this.props.changeColor(\"#1B793B\");\n            this.props.setColorBackground(false);\n        }\n      }\n      //#495934\n      else if (e.target.id().trim() === \"#495934\"){\n        this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n        if(this.props.isColorBackground === true){\n            this.props.changeColor(\"#495934\");\n            this.props.setColorBackground(false);\n        }\n      }\n      else if (e.target.id().trim() === \"#406276\"){\n        this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n        if(this.props.isColorBackground === true){\n            this.props.changeColor(\"#406276\");\n            this.props.setColorBackground(false);\n        }\n      }\n      //#08305D\n      else if (e.target.id().trim() === \"#08305D\"){\n        this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n        if(this.props.isColorBackground === true){\n            this.props.changeColor(\"#08305D\");\n            this.props.setColorBackground(false);\n        }\n      }\n      else if (e.target.id().trim() === \"#5C0A3D\"){\n        this.props.setTextObject(\"Selecciona la figura que quieras cambiar el color.\");\n        if(this.props.isColorBackground === true){\n            this.props.changeColor(\"#5C0A3D\");\n            this.props.setColorBackground(false);\n        }\n      }\n      else if (e.target.id().trim() === \"pintura\"){\n        this.props.setTextObject(\"Selecciona un color.\");\n        this.props.setColorBackground(true);\n      }\n    }\n  }\n  else{\n    const counter =  this.props.countClick + 1;\n    this.props.aumentarClick(counter)\n    if (counter === 1){\n      this.props.firstPos(e.target.getStage().getPointerPosition().x,e.target.getStage().getPointerPosition().y);\n    }else if (counter === 2){\n      this.props.secondPos(e.target.getStage().getPointerPosition().x,e.target.getStage().getPointerPosition().y);\n      this.props.aumentarClick(0)\n      this.props.insertarFlecha(false);\n      this.props.insertArrowWithTwoPositions();\n    }\n    console.log(counter);\n  }\n};\n\n  render() {\n      return (\n        <div class=\"paint\">\n        <div class=\"stage\">\n        <Stage width={1600} height={782} onMouseDown = {this.handleStageMouseDown}\n        onMouseMove = {this.handleMouseMove} onMouseUp={this.handleMouseUp}>\n          <Layer>\n\n           <Text text= {this.props.textoDialogo} fontSize={20} fontFamily = {'Calibri'}  x = {20} y = {20} />\n          {Array.from(this.props.rects).map((rect, i) => (\n            <Rectangulo key={i} {...rect} />\n          ))}\n\n            {Array.from(this.props.circulos).map((cir, i) => (\n              <Circulo key={i} {...cir} />\n            ))}\n\n            {Array.from(this.props.flechasSinPiquito).map((fle, i) => (\n              <FlechaSinPiquito key={i} {...fle} />\n            ))}\n\n            {Array.from(this.props.textos).map((txt, i) => (\n              <Texto key={i} {...txt} />\n            ))}\n\n            {this.props.flechas.map((arr, i) => (\n               <Flecha key={i} {...arr} />\n            ))}\n\n            {Array.from(this.props.triangulos).map((tri, i) => (\n              <Triangulo key={i} {...tri} />\n            ))}\n            {this.props.lines.map(line => (\n            <Line\n              key={line.id}\n              strokeWidth={4}\n              stroke=\"black\"\n              points={line.points}\n              globalCompositeOperation={\n                line.tool === \"eraser\" ? \"destination-out\" : \"source-over\"\n              }\n            />\n          ))}\n            <Circle x={80} y={700} radius={15} fill={\"#810A16\"} id={\"810A16\"}/>\n            <Circle x={110} y={700} radius={15} fill={\"#9C505B\"} id={\"#9C505B\"}/>\n            <Circle x={140} y={700} radius={15} fill={\"#18593C\"} id={\"#18593C\"}/>\n            <Circle x={170} y={700} radius={15} fill={\"#1B793B\"} id={\"#1B793B\"}/>\n            <Circle x={200} y={700} radius={15} fill={\"#495934\"} id={\"#495934\"}/>\n            <Circle x={230} y={700} radius={15} fill={\"#406276\"} id={\"#406276\"}/>\n            <Circle x={260} y={700} radius={15} fill={\"#08305D\"} id={\"#08305D\"}/>\n\n            <Circle x={80} y={735} radius={15} fill={\"#5C0A3D\"} id={\"#5C0A3D\"}/>\n            <Circle x={110} y={735} radius={15} fill={\"blue\"} id={\"blue\"}/>\n            <Circle x={140} y={735} radius={15} fill={\"green\"} id={\"green\"}/>\n            <Circle x={170} y={735} radius={15} fill={\"black\"} id={\"black\"}/>\n            <Circle x={200} y={735} radius={15} fill={\"red\"} id={\"red\"}/>\n            <Circle x={230} y={735} radius={15} fill={\"blue\"} id={\"blue\"}/>\n            <Circle x={260} y={735} radius={15} fill={\"green\"} id={\"green\"}/>\n            <IconoFlecha/>\n            <IconoLapiz/>\n            <IconoLinea/>\n            <IconoCuadrado/>\n            <IconoTriangulo/>\n            <IconoCirculo/>\n            <IconoGoma/>\n            <IconoPintar/>\n            <IconoLetra/>\n            <TransformerComponent\n              selectedShapeName={this.props.selectedShapeName}\n            />\n          </Layer>\n        </Stage>\n\n        </div>\n\n        </div>\n\n      );\n    };\n}\n\nexport default Mundo;\n"]},"metadata":{},"sourceType":"module"}