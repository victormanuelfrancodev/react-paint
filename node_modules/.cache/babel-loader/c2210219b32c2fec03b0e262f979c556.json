{"ast":null,"code":"import _toConsumableArray from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _slicedToArray from \"/Users/victor/Documents/GitHub/react-paint/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/victor/Documents/GitHub/react-paint/src/componentes/Mundo.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Rectangulo from './Rectangulo';\nimport Circulo from './Circulo';\nimport Texto from './Texto';\nimport Flecha from './Flecha';\nimport Triangulo from './Triangulo';\nimport { Stage, Layer, Rect, Circle, Text, Image } from 'react-konva';\nimport TransformerComponent from './TransformerComponent';\nimport useImage from 'use-image';\nimport './css/style.css';\n\nvar IconoFlecha = function IconoFlecha() {\n  var _useImage = useImage('http://www.rojojaguar.com/Mesadetrabajo40.svg'),\n      _useImage2 = _slicedToArray(_useImage, 1),\n      image = _useImage2[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 580,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"flecha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  });\n};\n\nvar IconoLapiz = function IconoLapiz() {\n  var _useImage3 = useImage('http://www.rojojaguar.com/Mesadetrabajo33.svg'),\n      _useImage4 = _slicedToArray(_useImage3, 1),\n      image = _useImage4[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 620,\n    y: 700,\n    width: 30,\n    height: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  });\n};\n\nvar IconoLinea = function IconoLinea() {\n  var _useImage5 = useImage('http://www.rojojaguar.com/Mesadetrabajo39.svg'),\n      _useImage6 = _slicedToArray(_useImage5, 1),\n      image = _useImage6[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 660,\n    y: 700,\n    width: 30,\n    height: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  });\n};\n\nvar IconoCuadrado = function IconoCuadrado() {\n  var _useImage7 = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg'),\n      _useImage8 = _slicedToArray(_useImage7, 1),\n      image = _useImage8[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 700,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"rectangulo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  });\n};\n\nvar IconoTriangulo = function IconoTriangulo() {\n  var _useImage9 = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg'),\n      _useImage10 = _slicedToArray(_useImage9, 1),\n      image = _useImage10[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 740,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"triangulo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  });\n};\n\nvar IconoCirculo = function IconoCirculo() {\n  var _useImage11 = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg'),\n      _useImage12 = _slicedToArray(_useImage11, 1),\n      image = _useImage12[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 780,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"circulo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  });\n};\n\nvar IconoGoma = function IconoGoma() {\n  var _useImage13 = useImage('http://www.rojojaguar.com/Mesadetrabajo35.svg'),\n      _useImage14 = _slicedToArray(_useImage13, 1),\n      image = _useImage14[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 820,\n    y: 700,\n    width: 30,\n    height: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  });\n};\n\nvar IconoPintar = function IconoPintar() {\n  var _useImage15 = useImage('http://www.rojojaguar.com/Mesadetrabajo36.svg'),\n      _useImage16 = _slicedToArray(_useImage15, 1),\n      image = _useImage16[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 860,\n    y: 700,\n    width: 30,\n    height: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  });\n};\n\nvar IconoLetra = function IconoLetra() {\n  var _useImage17 = useImage('http://www.rojojaguar.com/Mesadetrabajo37.svg'),\n      _useImage18 = _slicedToArray(_useImage17, 1),\n      image = _useImage18[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 900,\n    y: 700,\n    width: 30,\n    height: 30,\n    id: \"texto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  });\n};\n\nvar IconoVolver = function IconoVolver() {\n  var _useImage19 = useImage('http://www.rojojaguar.com/Mesadetrabajo38.svg'),\n      _useImage20 = _slicedToArray(_useImage19, 1),\n      image = _useImage20[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 940,\n    y: 700,\n    width: 30,\n    height: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  });\n};\n\nvar IconoAvanzar = function IconoAvanzar() {\n  var _useImage21 = useImage('http://www.rojojaguar.com/Mesadetrabajo38.svg'),\n      _useImage22 = _slicedToArray(_useImage21, 1),\n      image = _useImage22[0];\n\n  return React.createElement(Image, {\n    image: image,\n    x: 980,\n    y: 700,\n    width: 30,\n    height: 30,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  });\n};\n\nvar Mundo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Mundo, _React$Component);\n\n  function Mundo() {\n    var _this;\n\n    _classCallCheck(this, Mundo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Mundo).call(this));\n\n    _this.holamundo = function () {\n      console.log(\"hola\"); //this.props.objectText.text(\"jjijij\");\n    };\n\n    _this.handleStageMouseDown = function (e) {\n      // this.props.insertarRectangulo(e);\n      // clicked on stage - cler selection\n      if (_this.props.isMakingLine === false) {\n        if (e.target === e.target.getStage()) {\n          _this.props.selectShapeName('');\n\n          return;\n        } // clicked on transformer - do nothing\n        // find clicked rect by its name\n\n\n        var name = e.target.name();\n        console.log(e.target);\n\n        if (e.target.name().trim() !== \"\") {\n          var clickedOnTransformer = e.target.getParent().className === \"Transformer\";\n\n          if (e.target.attrs.id === \"TextEdit\") {\n            //Get size of the stage\n            var stageBox = e.target.getStage().container().getBoundingClientRect();\n            var areaPosition = {\n              x: stageBox.left + e.target.attrs.x,\n              y: stageBox.top + e.target.attrs.y\n            };\n\n            if (_this.props.objectText !== null) {\n              console.log(\"existe\");\n            } else {\n              console.log(\"no existe\");\n            }\n\n            var textarea = document.createElement('textarea');\n            document.body.appendChild(textarea);\n            textarea.value = e.target.attrs.text;\n            textarea.style.position = 'absolute';\n            textarea.style.top = areaPosition.y + 'px';\n            textarea.style.left = areaPosition.x + 'px';\n            textarea.style.width = e.target.width();\n            textarea.focus();\n\n            _this.props.objectCreate(e);\n\n            textarea.addEventListener('keydown', _this.handleClick);\n          } //  console.log(\"este es el target \"+e.target.fill(\"blue\"));\n\n\n          if (_this.props.selectedColor !== \"\") {\n            e.target.fill(_this.props.selectedColor);\n\n            _this.props.resetColor();\n          }\n\n          if (clickedOnTransformer) {\n            return;\n          }\n\n          var shapes = [].concat(_toConsumableArray(_this.props.rects), _toConsumableArray(_this.props.circulos), _toConsumableArray(_this.props.textos), _toConsumableArray(_this.props.flechas), _toConsumableArray(_this.props.triangulos)); //const shapes = [...this.props.rects];\n\n          var shape = shapes.find(function (shape) {\n            return shape.name === name;\n          });\n\n          if (shape) {\n            _this.props.selectShapeName(name);\n          } else {\n            _this.props.selectShapeName('');\n          }\n        } else {\n          if (e.target.id().trim() === \"rectangulo\") {\n            _this.props.insertarRectangulo(e);\n          } else if (e.target.id().trim() === \"triangulo\") {\n            _this.props.insertarTriangulo(e);\n          } else if (e.target.id().trim() === \"circulo\") {\n            _this.props.insertarCirculo(e);\n          } else if (e.target.id().trim() === \"texto\") {\n            _this.props.insertarText(e);\n          } else if (e.target.id().trim() === \"flecha\") {\n            _this.props.insertarFlecha(true);\n          } else if (e.target.id().trim() === \"red\") {\n            _this.props.changeColor(e);\n          } else if (e.target.id().trim() === \"blue\") {\n            _this.props.changeColor(e);\n          } else if (e.target.id().trim() === \"black\") {\n            _this.props.changeColor(e);\n          } else if (e.target.id().trim() === \"green\") {\n            _this.props.changeColor(e);\n          }\n        }\n      } else {\n        var counter = _this.props.countClick + 1;\n\n        _this.props.aumentarClick(counter);\n\n        if (counter === 1) {\n          _this.props.firstPos(e.target.getStage().getPointerPosition().x, e.target.getStage().getPointerPosition().y);\n        } else if (counter === 2) {\n          _this.props.secondPos(e.target.getStage().getPointerPosition().x, e.target.getStage().getPointerPosition().y);\n\n          _this.props.aumentarClick(0);\n\n          _this.props.insertarFlecha(false);\n\n          _this.props.insertArrowWithTwoPositions();\n        }\n\n        console.log(counter);\n      }\n    };\n\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)), 'Parameter');\n    return _this;\n  }\n\n  _createClass(Mundo, [{\n    key: \"handleClick\",\n    value: function handleClick(param, e) {\n      console.log('Parameter', param);\n      console.log('Event', e.target.value + e.key);\n      console.log('Real', e);\n\n      if (e.keyCode === 13 || e.keyCode === 27) {\n        this.props.objectText.text(e.target.value);\n        document.body.removeChild(e.target);\n        this.props.objectText = null;\n      } else {\n        if (e.keyCode !== 8) {\n          this.props.objectText.text(e.target.value + e.key);\n        } else {\n          this.props.objectText.text(e.target.value);\n        }\n      } //  e.target.text (e.target.value + e.key);\n\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Mundo;\n}(React.Component);\n\nexport default Mundo;","map":{"version":3,"sources":["/Users/victor/Documents/GitHub/react-paint/src/componentes/Mundo.js"],"names":["React","Component","render","Rectangulo","Circulo","Texto","Flecha","Triangulo","Stage","Layer","Rect","Circle","Text","Image","TransformerComponent","useImage","IconoFlecha","image","IconoLapiz","IconoLinea","IconoCuadrado","IconoTriangulo","IconoCirculo","IconoGoma","IconoPintar","IconoLetra","IconoVolver","IconoAvanzar","Mundo","holamundo","console","log","handleStageMouseDown","e","props","isMakingLine","target","getStage","selectShapeName","name","trim","clickedOnTransformer","getParent","className","attrs","id","stageBox","container","getBoundingClientRect","areaPosition","x","left","y","top","objectText","textarea","document","createElement","body","appendChild","value","text","style","position","width","focus","objectCreate","addEventListener","handleClick","selectedColor","fill","resetColor","shapes","rects","circulos","textos","flechas","triangulos","shape","find","insertarRectangulo","insertarTriangulo","insertarCirculo","insertarText","insertarFlecha","changeColor","counter","countClick","aumentarClick","firstPos","getPointerPosition","secondPos","insertArrowWithTwoPositions","bind","param","key","keyCode","removeChild"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Rectangulo from './Rectangulo';\nimport Circulo from './Circulo';\nimport Texto from './Texto';\nimport Flecha from './Flecha';\nimport Triangulo from './Triangulo';\nimport { Stage, Layer, Rect, Circle,Text,Image } from 'react-konva';\nimport TransformerComponent from './TransformerComponent';\nimport useImage from 'use-image';\nimport './css/style.css'\n\nconst IconoFlecha = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo40.svg');\n  return <Image image={image} x={580} y={700} width={30} height={30} id={\"flecha\"}/>;\n};\n\nconst IconoLapiz = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo33.svg');\n  return <Image image={image} x={620} y={700} width={30} height={30}/>;\n};\n\nconst IconoLinea = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo39.svg');\n  return <Image image={image} x={660} y={700} width={30} height={30}/>;\n};\n\nconst IconoCuadrado = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg');\n  return <Image image={image} x={700} y={700} width={30} height={30} id={\"rectangulo\"}/>;\n};\n\nconst IconoTriangulo = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg');\n  return <Image image={image} x={740} y={700} width={30} height={30} id={\"triangulo\"}/>;\n};\n\nconst IconoCirculo = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo41.svg');\n  return <Image image={image} x={780} y={700} width={30} height={30} id={\"circulo\"}/>;\n};\n\nconst IconoGoma = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo35.svg');\n  return <Image image={image} x={820} y={700} width={30} height={30}/>;\n};\n\nconst IconoPintar = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo36.svg');\n  return <Image image={image} x={860} y={700} width={30} height={30}/>;\n};\n\nconst IconoLetra = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo37.svg');\n  return <Image image={image} x={900} y={700} width={30} height={30} id = {\"texto\"}/>;\n};\n\nconst IconoVolver = () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo38.svg');\n  return <Image image={image} x={940} y={700} width={30} height={30}/>;\n};\n\nconst IconoAvanzar= () => {\n  const [image] = useImage('http://www.rojojaguar.com/Mesadetrabajo38.svg');\n  return <Image image={image} x={980} y={700} width={30} height={30}/>;\n};\n\n\nclass Mundo extends React.Component {\n\n  constructor() {\n    super();\n    this.handleClick = this.handleClick.bind(this, 'Parameter');\n  }\n\n  handleClick(param, e) {\n    console.log('Parameter', param);\n    console.log('Event', e.target.value + e.key);\n    console.log('Real', e);\n\n    if (e.keyCode === 13 || e.keyCode === 27) {\n      this.props.objectText.text(e.target.value);\n      document.body.removeChild(e.target);\n      this.props.objectText = null;\n    }else{\n      if (e.keyCode !== 8){\n        this.props.objectText.text(e.target.value + e.key);\n      }else{\n        this.props.objectText.text(e.target.value);\n      }\n    }\n  //  e.target.text (e.target.value + e.key);\n  }\n\nholamundo = () => {\n   console.log (\"hola\");\n    //this.props.objectText.text(\"jjijij\");\n}\n\nhandleStageMouseDown = e => {\n\n    // this.props.insertarRectangulo(e);\n  // clicked on stage - cler selection\n  if (this.props.isMakingLine === false){\n  if (e.target === e.target.getStage()) {\n      this.props.selectShapeName('');\n    return;\n  }\n  // clicked on transformer - do nothing\n  // find clicked rect by its name\n  const name = e.target.name();\n  console.log (e.target);\n  if (e.target.name().trim() !== \"\") {\n        const clickedOnTransformer =\n          e.target.getParent().className === \"Transformer\";\n        if  (e.target.attrs.id ===\"TextEdit\"){\n          //Get size of the stage\n          var stageBox = e.target.getStage().container().getBoundingClientRect();\n          var areaPosition = {\n            x : stageBox.left + e.target.attrs.x,\n            y:  stageBox.top + e.target.attrs.y\n          }\n\n          if (this.props.objectText !== null){\n            console.log(\"existe\")\n          }else{\n            console.log(\"no existe\")\n          }\n          var textarea = document.createElement('textarea');\n          document.body.appendChild(textarea);\n          textarea.value = e.target.attrs.text;\n          textarea.style.position = 'absolute';\n          textarea.style.top = areaPosition.y + 'px';\n          textarea.style.left = areaPosition.x + 'px';\n          textarea.style.width = e.target.width();\n          textarea.focus();\n          this.props.objectCreate(e);\n          textarea.addEventListener('keydown',this.handleClick);\n\n        }\n        //  console.log(\"este es el target \"+e.target.fill(\"blue\"));\n        if (this.props.selectedColor !== \"\"){\n          e.target.fill(this.props.selectedColor);\n          this.props.resetColor()\n        }\n        if (clickedOnTransformer) {\n          return;\n        }\n\n        const shapes = [...this.props.rects,...this.props.circulos, ...this.props.textos, ...this.props.flechas, ...this.props.triangulos];\n        //const shapes = [...this.props.rects];\n        const shape = shapes.find(shape => shape.name === name);\n        if (shape) {\n          this.props.selectShapeName(name);\n        } else {\n          this.props.selectShapeName('');\n        }\n    }else{\n\n      if (e.target.id().trim() === \"rectangulo\"){\n         this.props.insertarRectangulo(e);\n      }else if (e.target.id().trim() === \"triangulo\"){\n         this.props.insertarTriangulo(e);\n      }else if (e.target.id().trim() === \"circulo\"){\n        this.props.insertarCirculo(e);\n      }else if(e.target.id().trim() === \"texto\"){\n        this.props.insertarText(e);\n      }\n      else if (e.target.id().trim() === \"flecha\"){\n        this.props.insertarFlecha(true);\n      }\n      else if (e.target.id().trim() === \"red\"){\n        this.props.changeColor(e);\n      }\n      else if (e.target.id().trim() === \"blue\"){\n        this.props.changeColor(e);\n      }\n      else if (e.target.id().trim() === \"black\"){\n        this.props.changeColor(e);\n      }\n      else if (e.target.id().trim() === \"green\"){\n        this.props.changeColor(e);\n      }\n    }\n  }else{\n    const counter =  this.props.countClick + 1;\n\n    this.props.aumentarClick(counter)\n    if (counter === 1){\n      this.props.firstPos(e.target.getStage().getPointerPosition().x,e.target.getStage().getPointerPosition().y);\n    }else if (counter === 2){\n      this.props.secondPos(e.target.getStage().getPointerPosition().x,e.target.getStage().getPointerPosition().y);\n      this.props.aumentarClick(0)\n      this.props.insertarFlecha(false);\n      this.props.insertArrowWithTwoPositions();\n    }\n    console.log(counter);\n  }\n};\n\n  render() {\n      return (\n    <div id=\"container\"></div>\n\n      );\n    };\n}\n\nexport default Mundo;\n"]},"metadata":{},"sourceType":"module"}