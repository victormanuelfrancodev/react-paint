{"ast":null,"code":"import _toConsumableArray from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/victor/Documents/GitHub/konvastest/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/victor/Documents/GitHub/konvastest/src/componentes/Mundo.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Rectangulo from './Rectangulo';\nimport Circulo from './Circulo';\nimport Texto from './Texto';\nimport Flecha from './Flecha';\nimport Triangulo from './Triangulo';\nimport { Stage, Layer, Rect, Circle, Text } from 'react-konva';\nimport TransformerComponent from './TransformerComponent';\n\nvar Mundo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Mundo, _React$Component);\n\n  function Mundo() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Mundo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Mundo)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleDragEnd = function (e) {\n      _this.props.insertarRectangulo(e);\n    };\n\n    _this.handleStageMouseDown = function (e) {\n      // this.props.insertarRectangulo(e);\n      // clicked on stage - cler selection\n      if (e.target === e.target.getStage()) {\n        _this.props.selectShapeName('');\n\n        return;\n      } // clicked on transformer - do nothing\n      // find clicked rect by its name\n\n\n      var name = e.target.name();\n\n      if (e.target.name().trim() !== \"\") {\n        var clickedOnTransformer = e.target.getParent().className === \"Transformer\";\n\n        if (clickedOnTransformer) {\n          return;\n        }\n\n        var shapes = [].concat(_toConsumableArray(_this.props.rects), _toConsumableArray(_this.props.circulos), _toConsumableArray(_this.props.textos), _toConsumableArray(_this.props.flechas), _toConsumableArray(_this.props.triangulos)); //const shapes = [...this.props.rects];\n\n        console.log(\"Shape \" + e.target.name());\n        var shape = shapes.find(function (shape) {\n          return shape.name === name;\n        });\n\n        if (shape) {\n          _this.props.selectShapeName(name);\n        } else {\n          _this.props.selectShapeName('');\n        }\n      } else {\n        console.log(\"no hagas nada\");\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Mundo, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Stage, {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        onMouseDown: this.handleStageMouseDown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Layer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, Object.keys(this.props.rects).map(function (key) {\n        return React.createElement(Rectangulo, {\n          key: key,\n          rect: _this2.props.rects[key],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        });\n      }), Array.from(this.props.circulos).map(function (cir, i) {\n        return React.createElement(Circulo, Object.assign({\n          key: i\n        }, cir, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }));\n      }), Array.from(this.props.textos).map(function (txt, i) {\n        return React.createElement(Texto, Object.assign({\n          key: i\n        }, txt, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }));\n      }), Array.from(this.props.flechas).map(function (arr, i) {\n        return React.createElement(Flecha, Object.assign({\n          key: i\n        }, arr, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }));\n      }), Array.from(this.props.triangulos).map(function (tri, i) {\n        return React.createElement(Triangulo, Object.assign({\n          key: i\n        }, tri, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }));\n      }), React.createElement(Circle, {\n        x: 500,\n        y: 300,\n        radius: 50,\n        fill: \"black\",\n        onMouseDown: this.handleDragEnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(TransformerComponent, {\n        selectedShapeName: this.props.selectedShapeName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Mundo;\n}(React.Component);\n\nexport default Mundo;","map":{"version":3,"sources":["/Users/victor/Documents/GitHub/konvastest/src/componentes/Mundo.js"],"names":["React","Component","render","Rectangulo","Circulo","Texto","Flecha","Triangulo","Stage","Layer","Rect","Circle","Text","TransformerComponent","Mundo","handleDragEnd","e","props","insertarRectangulo","handleStageMouseDown","target","getStage","selectShapeName","name","trim","clickedOnTransformer","getParent","className","shapes","rects","circulos","textos","flechas","triangulos","console","log","shape","find","window","innerWidth","innerHeight","Object","keys","map","key","Array","from","cir","i","txt","arr","tri","selectedShapeName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Rectangulo from './Rectangulo';\nimport Circulo from './Circulo';\nimport Texto from './Texto';\nimport Flecha from './Flecha';\nimport Triangulo from './Triangulo';\nimport { Stage, Layer, Rect, Circle,Text } from 'react-konva';\nimport TransformerComponent from './TransformerComponent';\n\nclass Mundo extends React.Component {\n\n  handleDragEnd = e => {\n     this.props.insertarRectangulo(e);\n\n    };\n\n    handleStageMouseDown = e => {\n    // this.props.insertarRectangulo(e);\n  // clicked on stage - cler selection\n  if (e.target === e.target.getStage()) {\n      this.props.selectShapeName('');\n    return;\n  }\n  // clicked on transformer - do nothing\n  // find clicked rect by its name\n  const name = e.target.name();\n\n  if (e.target.name().trim() !== \"\") {\n  const clickedOnTransformer =\n    e.target.getParent().className === \"Transformer\";\n  if (clickedOnTransformer) {\n    return;\n  }\n\n\n    const shapes = [...this.props.rects,...this.props.circulos, ...this.props.textos, ...this.props.flechas, ...this.props.triangulos];\n    //const shapes = [...this.props.rects];\n    console.log(\"Shape \"+e.target.name());\n    const shape = shapes.find(shape => shape.name === name);\n    if (shape) {\n      this.props.selectShapeName(name);\n    } else {\n      this.props.selectShapeName('');\n    }\n  }else{\n    console.log(\"no hagas nada\");\n  }\n\n};\n\n  render() {\n      return (\n        <Stage width={window.innerWidth} height={window.innerHeight} onMouseDown = {this.handleStageMouseDown} >\n          <Layer>\n\n          {Object.keys( this.props.rects).map(key => (\n            <Rectangulo\n              key = {key}\n              rect ={this.props.rects[key]}\n            />\n          ))}\n\n            {Array.from(this.props.circulos).map((cir, i) => (\n              <Circulo key={i} {...cir} />\n            ))}\n\n            {Array.from(this.props.textos).map((txt, i) => (\n              <Texto key={i} {...txt} />\n            ))}\n\n            {Array.from(this.props.flechas).map((arr, i) => (\n              <Flecha key={i} {...arr} />\n            ))}\n\n            {Array.from(this.props.triangulos).map((tri, i) => (\n              <Triangulo key={i} {...tri} />\n            ))}\n\n            <Circle x={500} y={300} radius={50} fill={\"black\"} onMouseDown= {this.handleDragEnd}/>\n            <TransformerComponent\n              selectedShapeName={this.props.selectedShapeName}\n            />\n          </Layer>\n        </Stage>\n      );\n    };\n}\n\nexport default Mundo;\n"]},"metadata":{},"sourceType":"module"}